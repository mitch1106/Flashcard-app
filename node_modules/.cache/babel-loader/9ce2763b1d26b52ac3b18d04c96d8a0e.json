{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import DeckForm from\"./DeckForm\";import BreadCrumb from\"../Home/BreadCrumb\";import{createDeck}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewDeck(){var initialFormState={name:\"\",description:\"\"};var _useState=useState(_objectSpread({},initialFormState)),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var history=useHistory();//set form data with change handler\nvar handleChange=function handleChange(_ref){var target=_ref.target;setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},target.name,target.value)));};//create new deck with submit handler\nvar handleSubmit=function handleSubmit(event){event.preventDefault();function deckCreate(){return _deckCreate.apply(this,arguments);}function _deckCreate(){_deckCreate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newDeck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return createDeck(formData);case 3:newDeck=_context.sent;history.push(\"/decks/\".concat(newDeck.id));_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0!==\"AbortError\")){_context.next=11;break;}throw _context.t0;case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _deckCreate.apply(this,arguments);}deckCreate();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BreadCrumb,{link:\"/decks/new\",pageName:\"Create Deck\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Deck\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(DeckForm,{formData:formData,handleChange:handleChange,handleSubmit:handleSubmit}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-1\",children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary mr-1\",onClick:handleSubmit,children:\"Submit\"})]})]});}export default NewDeck;","map":{"version":3,"sources":["C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/src/Layout/Decks/CreateDeck.js"],"names":["React","useState","Link","useHistory","DeckForm","BreadCrumb","createDeck","NewDeck","initialFormState","name","description","formData","setFormData","history","handleChange","target","value","handleSubmit","event","preventDefault","deckCreate","newDeck","push","id"],"mappings":"q6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,OAASC,UAAT,KAA2B,uBAA3B,C,wFAEA,QAASC,CAAAA,OAAT,EAAmB,CACf,GAAMC,CAAAA,gBAAgB,CAAG,CACrBC,IAAI,CAAC,EADgB,CAErBC,WAAW,CAAC,EAFS,CAAzB,CAKA,cAAgCT,QAAQ,kBAAKO,gBAAL,EAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,OAAO,CAAEV,UAAU,EAAzB,CAEA;AACA,GAAMW,CAAAA,YAAY,CAAE,QAAdA,CAAAA,YAAc,MAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CAC9BH,WAAW,gCACJD,QADI,wBAENI,MAAM,CAACN,IAFD,CAEQM,MAAM,CAACC,KAFf,GAAX,CAIH,CALD,CAOA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GAD4B,QAEbC,CAAAA,UAFa,wIAE5B,qLAE6Bd,CAAAA,UAAU,CAACK,QAAD,CAFvC,QAEcU,OAFd,eAGQR,OAAO,CAACS,IAAR,kBAAuBD,OAAO,CAACE,EAA/B,GAHR,oFAKW,cAAQ,YALnB,iHAF4B,6CAY5BH,UAAU,GACb,CAbD,CAeA,mBACI,oCACI,KAAC,UAAD,EAAY,IAAI,aAAhB,CAAgC,QAAQ,CAAE,aAA1C,EADJ,cAEI,oCACI,mCADJ,cAEI,aAFJ,cAGI,KAAC,QAAD,EAAU,QAAQ,CAAET,QAApB,CAA8B,YAAY,CAAEG,YAA5C,CAA0D,YAAY,CAAEG,YAAxE,EAHJ,cAII,aAJJ,cAKI,aALJ,cAMI,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBAAa,eAAQ,SAAS,CAAC,wBAAlB,oBAAb,EANJ,cAOI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,sBAAhC,CAAuD,OAAO,CAAEA,YAAhE,oBAPJ,GAFJ,GADJ,CAeH,CACD,cAAeV,CAAAA,OAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport DeckForm from \"./DeckForm\";\r\nimport BreadCrumb from \"../Home/BreadCrumb\";\r\nimport { createDeck } from \"../../utils/api/index\";\r\n\r\nfunction NewDeck() {\r\n    const initialFormState = {\r\n        name:\"\",\r\n        description:\"\"\r\n    };\r\n\r\n    const [formData, setFormData] = useState({...initialFormState});\r\n    const history= useHistory();\r\n\r\n    //set form data with change handler\r\n    const handleChange= ({target}) => {\r\n        setFormData({\r\n            ...formData,\r\n            [target.name]: target.value\r\n        })\r\n    }\r\n\r\n    //create new deck with submit handler\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        async function deckCreate() {\r\n            try{\r\n                const newDeck= await createDeck(formData);\r\n                history.push(`/decks/${newDeck.id}`);\r\n            }catch (error) {\r\n                if(error!==\"AbortError\") {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n        deckCreate();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <BreadCrumb link={`/decks/new`} pageName={\"Create Deck\"} />\r\n            <div>\r\n                <h1>Create Deck</h1>\r\n                <br />\r\n                <DeckForm formData={formData} handleChange={handleChange} handleSubmit={handleSubmit} />\r\n                <br />\r\n                <br />\r\n                <Link to=\"/\"><button className=\"btn btn-secondary mr-1\">Cancel</button></Link>\r\n                <button type=\"submit\" className=\"btn btn-primary mr-1\" onClick={handleSubmit}>Submit</button>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default NewDeck;"]},"metadata":{},"sourceType":"module"}