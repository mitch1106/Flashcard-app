{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import{readDeck,deleteDeck}from\"../../utils/api/index\";import BreadCrumb from\"../Home/BreadCrumb\";import CardsList from\"../Cards/CardsList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Deck(){var _useParams=useParams(),deckId=_useParams.deckId;var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];//load deck & cards\nuseEffect(function(){function loadDeck(){return _loadDeck.apply(this,arguments);}function _loadDeck(){_loadDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var loadedDeck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!deckId){_context.next=5;break;}_context.next=3;return readDeck(deckId);case 3:loadedDeck=_context.sent;setDeck(function(){return loadedDeck;});case 5:case\"end\":return _context.stop();}}},_callee);}));return _loadDeck.apply(this,arguments);}loadDeck();},[deckId]);//delete the deck \nvar handleDeckDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var confirm;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:confirm=window.confirm(\"Delete this deck? You will not be able to recover it.\");if(!confirm){_context2.next=5;break;}_context2.next=4;return deleteDeck(deckId);case 4:history.push(\"/\");case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleDeckDelete(){return _ref.apply(this,arguments);};}();if(deck.id){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BreadCrumb,{link:\"/decks/\".concat(deckId),linkName:deck.name,pageName:deck.name}),/*#__PURE__*/_jsx(\"h3\",{children:deck.name}),/*#__PURE__*/_jsx(\"p\",{children:deck.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-8\",children:[/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId,\"/edit\"),children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary mr-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-pencil mr-1\"}),\"Edit\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId,\"/study\"),children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary mr-1\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-book mr-1\"}),\"Study\"]})}),/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId,\"/cards/new\"),children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"bi bi-plus mr-1\"}),\"Add Card\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:handleDeckDelete,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash\"})})})]}),/*#__PURE__*/_jsx(CardsList,{deck:deck})]});}return\"No deck here! Please create a new deck.\";}export default Deck;","map":{"version":3,"sources":["C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/src/Layout/Decks/Deck.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","readDeck","deleteDeck","BreadCrumb","CardsList","Deck","deckId","history","deck","setDeck","loadDeck","loadedDeck","handleDeckDelete","confirm","window","push","id","name","description"],"mappings":"8iBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,UAA1B,KAA4C,kBAA5C,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,uBAArC,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,C,wFAEA,QAASC,CAAAA,IAAT,EAAgB,CACZ,eAAmBN,SAAS,EAA5B,CAAQO,MAAR,YAAQA,MAAR,CACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,cAAwBJ,QAAQ,CAAC,EAAD,CAAhC,wCAAOY,IAAP,eAAaC,OAAb,eAGA;AACAZ,SAAS,CAAC,UAAM,SACGa,CAAAA,QADH,kIACZ,sJACYJ,MADZ,+CAEiCL,CAAAA,QAAQ,CAACK,MAAD,CAFzC,QAEcK,UAFd,eAGQF,OAAO,CAAC,iBAAIE,CAAAA,UAAJ,EAAD,CAAP,CAHR,sDADY,2CAOZD,QAAQ,GACX,CARQ,CAQN,CAACJ,MAAD,CARM,CAAT,CAUA;AACA,GAAMM,CAAAA,gBAAgB,0FAAG,oJACfC,OADe,CACLC,MAAM,CAACD,OAAP,CAAe,uDAAf,CADK,KAEjBA,OAFiB,iDAGXX,CAAAA,UAAU,CAACI,MAAD,CAHC,QAIjBC,OAAO,CAACQ,IAAR,CAAa,GAAb,EAJiB,wDAAH,kBAAhBH,CAAAA,gBAAgB,0CAAtB,CASJ,GAAIJ,IAAI,CAACQ,EAAT,CAAa,CACL,mBACI,oCACA,KAAC,UAAD,EAAY,IAAI,kBAAYV,MAAZ,CAAhB,CAAsC,QAAQ,CAAEE,IAAI,CAACS,IAArD,CAA2D,QAAQ,CAAET,IAAI,CAACS,IAA1E,EADA,cAEI,oBAAKT,IAAI,CAACS,IAAV,EAFJ,cAGI,mBAAIT,IAAI,CAACU,WAAT,EAHJ,cAIK,aAAK,SAAS,CAAC,6BAAf,wBACG,aAAK,SAAS,CAAC,OAAf,wBACI,KAAC,IAAD,EAAM,EAAE,kBAAYZ,MAAZ,SAAR,uBACI,gBAAQ,SAAS,CAAC,wBAAlB,wBACI,UAAG,KAAK,CAAC,mBAAT,EADJ,UADJ,EADJ,cAOI,KAAC,IAAD,EAAM,EAAE,kBAAYA,MAAZ,UAAR,uBACI,gBAAQ,SAAS,CAAC,sBAAlB,wBACI,UAAG,KAAK,CAAC,iBAAT,EADJ,WADJ,EAPJ,cAaI,KAAC,IAAD,EAAM,EAAE,kBAAYA,MAAZ,cAAR,uBACI,gBAAQ,SAAS,CAAC,iBAAlB,wBACI,UAAG,KAAK,CAAC,iBAAT,EADJ,cADJ,EAbJ,GADH,cAqBG,YAAK,SAAS,CAAC,OAAf,uBACI,eAAQ,SAAS,CAAC,gBAAlB,CAAmC,OAAO,CAAEM,gBAA5C,uBAA8D,UAAG,SAAS,CAAC,aAAb,EAA9D,EADJ,EArBH,GAJL,cA6BI,KAAC,SAAD,EAAW,IAAI,CAAEJ,IAAjB,EA7BJ,GADJ,CAkCD,CACO,MAAO,yCAAP,CACT,CAGL,cAAeH,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport { readDeck, deleteDeck } from \"../../utils/api/index\";\r\nimport BreadCrumb from \"../Home/BreadCrumb\";\r\nimport CardsList from \"../Cards/CardsList\";\r\n\r\nfunction Deck() {\r\n    const { deckId } = useParams();\r\n    const history = useHistory();\r\n    const [deck, setDeck] = useState({});\r\n\r\n\r\n    //load deck & cards\r\n    useEffect(() => {\r\n        async function loadDeck() {\r\n                if (deckId) {\r\n                const loadedDeck = await readDeck(deckId);\r\n                setDeck(()=>loadedDeck);\r\n                }\r\n            }\r\n        loadDeck();\r\n    }, [deckId]);\r\n\r\n    //delete the deck \r\n    const handleDeckDelete = async () => {\r\n        const confirm = window.confirm(\"Delete this deck? You will not be able to recover it.\");\r\n        if (confirm) {\r\n            await deleteDeck(deckId);\r\n            history.push(\"/\");\r\n        }\r\n    };\r\n\r\n\r\nif (deck.id) {\r\n        return (\r\n            <div>\r\n            <BreadCrumb link={`/decks/${deckId}`} linkName={deck.name} pageName={deck.name} />\r\n                <h3>{deck.name}</h3>\r\n                <p>{deck.description}</p>\r\n                 <div className=\"row justify-content-between\">\r\n                    <div className=\"col-8\">\r\n                        <Link to={`/decks/${deckId}/edit`}>\r\n                            <button className=\"btn btn-secondary mr-1\">\r\n                                <i class=\"bi bi-pencil mr-1\"></i>\r\n                                Edit\r\n                            </button>\r\n                        </Link>\r\n                        <Link to={`/decks/${deckId}/study`}>\r\n                            <button className=\"btn btn-primary mr-1\">\r\n                                <i class=\"bi bi-book mr-1\"></i>\r\n                                Study\r\n                            </button>\r\n                        </Link>\r\n                        <Link to={`/decks/${deckId}/cards/new`}>\r\n                            <button className=\"btn btn-primary\">\r\n                                <i class=\"bi bi-plus mr-1\"></i>\r\n                                Add Card\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-2\">\r\n                        <button className=\"btn btn-danger\" onClick={handleDeckDelete}><i className=\"bi bi-trash\"></i></button>\r\n                    </div>\r\n                </div>\r\n                <CardsList deck={deck} />\r\n                </div>\r\n            \r\n        )\r\n      } \r\n              return \"No deck here! Please create a new deck.\"\r\n    }\r\n\r\n\r\nexport default Deck;"]},"metadata":{},"sourceType":"module"}