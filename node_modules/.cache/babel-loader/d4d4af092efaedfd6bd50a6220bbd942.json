{"ast":null,"code":"import _defineProperty from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useParams,useHistory}from\"react-router-dom\";import DeckForm from\"./DeckForm\";import BreadCrumb from\"../Home/BreadCrumb\";import{readDeck,updateDeck}from\"../../utils/api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditDeck(){var initialFormState={name:\"\",description:\"\"};var _useState=useState(_objectSpread({},initialFormState)),_useState2=_slicedToArray(_useState,2),deck=_useState2[0],setDeck=_useState2[1];var history=useHistory();var _useParams=useParams(),deckId=_useParams.deckId;useEffect(function(){function loadDeck(){return _loadDeck.apply(this,arguments);}function _loadDeck(){_loadDeck=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var loadedDeck;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return readDeck(deckId);case 3:loadedDeck=_context.sent;setDeck(loadedDeck);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);if(!(_context.t0.name!==\"AbortError\")){_context.next=11;break;}throw _context.t0;case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _loadDeck.apply(this,arguments);}loadDeck();},[deckId]);var handleChange=function handleChange(_ref){var target=_ref.target;setDeck(_objectSpread(_objectSpread({},deck),{},_defineProperty({},target.name,target.value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();function updateDeckData(){return _updateDeckData.apply(this,arguments);}function _updateDeckData(){_updateDeckData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateDeck(deck);case 2:history.push(\"/decks/\".concat(deck.id));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _updateDeckData.apply(this,arguments);}updateDeckData();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BreadCrumb,{link:\"/decks/\".concat(deckId,\"/edit\"),linkName:deck.name,pageName:\"Edit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Deck\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row w-100\",children:/*#__PURE__*/_jsx(DeckForm,{formData:deck,handleChange:handleChange,handleSubmit:handleSubmit})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(Link,{to:\"/decks/\".concat(deckId),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-1\",children:\"Cancel\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:handleSubmit,children:\"Save\"})]})]})]});}export default EditDeck;","map":{"version":3,"sources":["C:/Users/mitch/Thinkful/flashcard-app/Project_Flashcards_Qualified_1/src/Layout/Decks/EditDeck.js"],"names":["React","useState","useEffect","Link","useParams","useHistory","DeckForm","BreadCrumb","readDeck","updateDeck","EditDeck","initialFormState","name","description","deck","setDeck","history","deckId","loadDeck","loadedDeck","handleChange","target","value","handleSubmit","event","preventDefault","updateDeckData","push","id"],"mappings":"q6BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,UAA1B,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,oBAAvB,CACA,OAASC,QAAT,CAAmBC,UAAnB,KAAqC,uBAArC,C,wFAEA,QAASC,CAAAA,QAAT,EAAoB,CAEhB,GAAMC,CAAAA,gBAAgB,CAAG,CACrBC,IAAI,CAAC,EADgB,CAErBC,WAAW,CAAC,EAFS,CAAzB,CAKA,cAAwBZ,QAAQ,kBAAKU,gBAAL,EAAhC,wCAAOG,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CACA,eAAmBD,SAAS,EAA5B,CAAQa,MAAR,YAAQA,MAAR,CAEAf,SAAS,CAAC,UAAM,SACGgB,CAAAA,QADH,kIACZ,wLAEiCV,CAAAA,QAAQ,CAACS,MAAD,CAFzC,QAEcE,UAFd,eAGQJ,OAAO,CAACI,UAAD,CAAP,CAHR,oFAKY,YAAMP,IAAN,GAAa,YALzB,iHADY,2CAWZM,QAAQ,GACX,CAZQ,CAYN,CAACD,MAAD,CAZM,CAAT,CAcA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,MAAc,IAAZC,CAAAA,MAAY,MAAZA,MAAY,CAC/BN,OAAO,gCACAD,IADA,wBAEFO,MAAM,CAACT,IAFL,CAEYS,MAAM,CAACC,KAFnB,GAAP,CAIH,CALD,CAOA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5BA,KAAK,CAACC,cAAN,GAD4B,QAEbC,CAAAA,cAFa,oJAE5B,+JACcjB,CAAAA,UAAU,CAACK,IAAD,CADxB,QAEQE,OAAO,CAACW,IAAR,kBAAuBb,IAAI,CAACc,EAA5B,GAFR,wDAF4B,iDAM5BF,cAAc,GACjB,CAPD,CASA,mBACI,oCACI,KAAC,UAAD,EAAY,IAAI,kBAAYT,MAAZ,SAAhB,CAA2C,QAAQ,CAAEH,IAAI,CAACF,IAA1D,CAAgE,QAAQ,CAAE,MAA1E,EADJ,cAEI,aAAK,SAAS,CAAC,WAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,iCADJ,cAEI,aAFJ,GADJ,cAKI,YAAK,SAAS,CAAC,WAAf,uBAEI,KAAC,QAAD,EAAU,QAAQ,CAAEE,IAApB,CAA0B,YAAY,CAAEM,YAAxC,CAAsD,YAAY,CAAEG,YAApE,EAFJ,EALJ,cASQ,aAAK,SAAS,CAAC,KAAf,wBACA,KAAC,IAAD,EAAM,EAAE,kBAAYN,MAAZ,CAAR,uBAA8B,eAAQ,SAAS,CAAC,wBAAlB,oBAA9B,EADA,cAEA,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,iBAAhC,CAAkD,OAAO,CAAEM,YAA3D,kBAFA,GATR,GAFJ,GADJ,CAoBH,CAED,cAAeb,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useParams, useHistory } from \"react-router-dom\";\r\nimport DeckForm from \"./DeckForm\";\r\nimport BreadCrumb from \"../Home/BreadCrumb\";\r\nimport { readDeck, updateDeck } from \"../../utils/api/index\";\r\n\r\nfunction EditDeck() {\r\n\r\n    const initialFormState = {\r\n        name:\"\",\r\n        description:\"\"\r\n    }\r\n\r\n    const [deck, setDeck] = useState({...initialFormState});\r\n    const history = useHistory();\r\n    const { deckId } = useParams();\r\n\r\n    useEffect(() => {\r\n        async function loadDeck() {\r\n            try {\r\n                const loadedDeck = await readDeck(deckId);\r\n                setDeck(loadedDeck);\r\n            } catch (error) {\r\n                if (error.name!==\"AbortError\") {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n        loadDeck();\r\n    }, [deckId]);\r\n\r\n    const handleChange = ({target}) => {\r\n        setDeck({\r\n            ...deck,\r\n            [target.name]: target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        async function updateDeckData() {\r\n                await updateDeck(deck);\r\n                history.push(`/decks/${deck.id}`);\r\n        }\r\n        updateDeckData();\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <BreadCrumb link={`/decks/${deckId}/edit`} linkName={deck.name} pageName={\"Edit\"} />\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <h1>Edit Deck</h1>\r\n                    <br />\r\n                </div>\r\n                <div className=\"row w-100\">\r\n            \r\n                    <DeckForm formData={deck} handleChange={handleChange} handleSubmit={handleSubmit}/>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                    <Link to={`/decks/${deckId}`}><button className=\"btn btn-secondary mr-1\">Cancel</button></Link>\r\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={handleSubmit}>Save</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n       \r\n    )\r\n}\r\n\r\nexport default EditDeck;\r\n"]},"metadata":{},"sourceType":"module"}